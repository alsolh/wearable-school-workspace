<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Tizen Wearable basic template generated by Samsung Wearable Web IDE"/>

    <title>Tizen Wearable Web IDE - Tizen Wearable - Tizen Wearable basic Application</title>

    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script src="js/main.js"></script>
</head>

<body>
  <div class=contents>
  	<div style='margin:auto;'>
  		<span class=content_text id=textbox>Basic</span>
  	</div>
  </div>
  <script src="js/jquery.min.js"></script>
<script src="js/tooltip.min.js"></script>
<script src="js/network.js"></script>

<script>
	//header("Access-Control-Allow-Origin: *");
    // Create a new Network instance by providing an optional object.
    var settings = {
        latency: {
            // Where is located your `network.php` file.
            endpoint: 'http://192.168.43.39/network.php',
            // How many measures should be returned.
            measures: 4,
            // How much attempts to get a valid value should be done for each measure.
            attempts: 1
        },

        upload: {
            // Where is located your `network.php` file.
            endpoint: 'network.php',
            // The delay while you want to take measures.
            delay: 8000,

            data: {
                // The amount of data to initially use.
                size: 2 * 1024 * 1024, // 2 MB

                // If the measure period can't reach the delay defined in the settings,
                // the data amount is multiplied by the following value.
                multiplier: 2
            }
        },

        download: {
            // Where is located your `network.php` file.
            endpoint: 'network.php',
            // The delay while you want to take measures.
            delay: 8000,

            data: {
                // The amount of data to initially use.
                size: 10 * 1024 * 1024, // 10 MB

                // If the measure period can't reach the delay defined in the settings,
                // the data amount is multiplied by the following value.
                multiplier: 2
            }
        }
    }

    var net = new Network(settings);
    
    if (Network.supportsResourceTiming) {
    console.log("supportsResourceTiming");
} else {
    console.log("no supportsResourceTiming");
}

    // Listen for the "end" event which provides the calculated latencies.
    net.latency.on("end", function(averageLatency, allLatencies) {
        // "allLatencies" is an array containing the five calculated latencies in
        // milliseconds. They're used to determine an average latency.
        console.log("endlatency");
        console.log('end', averageLatency, allLatencies);
    });

    // Once all the configuration is done, start the requests for this module.
    console.log("startlatency","test");
    net.latency.start();

    // It is possible to chain functions for all the modules, here's an example with the
    // upload module.
    net.upload
        .on('start', function(dataSize) {
            console.log('start', dataSize);
        })
        .on('progress', function(averageSpeed, instantSpeed) {
            // Every bandwidth measure are in Mega BYTES per second!
            console.log('progress', averageSpeed, instantSpeed);
        })
        .on('restart', function(dataSize) {
            // The restart event is triggered when the module didn't have time
            // (according to the `delay` option) to take all the measures. A new
            // request will start with data size increased by the multiplier value.
            console.log('restart', dataSize);
        })
        .on('end', function(averageSpeed, allInstantSpeeds) {
            console.log('end', averageSpeed, allInstantSpeeds);
        })
        .start();

    // You can also cancel a request (except for the "latency" module).
    net.upload.abort();

    net.download
        .on('start', function(dataSize) {
            console.log('start', dataSize);
        })
        .on('progress', function(averageSpeed, instantSpeed) {
            console.log('progress', averageSpeed, instantSpeed);
        })
        .on('restart', function(dataSize) {
            console.log('restart', dataSize);
        })
        .on('end', function(averageSpeed, allInstantSpeeds) {
            console.log('end', averageSpeed, allInstantSpeeds);
        })
        .start();

    net.download.abort();

</script>
  
</body>
</html>
